<template>
<div class="header-select-stage">
  <div class="header-select markup-select">
    <button v-on:click="reportSelection" class="select-button">Use</button>
    <Headers01 />
  </div>
  <div class="header-select markup-select">
    <button v-on:click="reportSelection" class="select-button">Use</button>
    <Headers02 />
  </div>
  <div class="header-select markup-select">
    <button v-on:click="reportSelection" class="select-button">Use</button>
    <Headers03 />
  </div>
</div>
</template>

<script>
import Headers01 from './components/headers/Headers01.vue';
import Headers02 from './components/headers/Headers02.vue';
import Headers03 from './components/headers/Headers03.vue';
import Headers04 from './components/headers/Headers04.vue';
import Headers05 from './components/headers/Headers05.vue';
import Headers06 from './components/headers/Headers06.vue';
import Headers07 from './components/headers/Headers07.vue';
import Headers08 from './components/headers/Headers08.vue';
import Headers09 from './components/headers/Headers09.vue';
import Headers10 from './components/headers/Headers10.vue';
import Headers11 from './components/headers/Headers11.vue';
import Headers12 from './components/headers/Headers12.vue';
import Headers13 from './components/headers/Headers13.vue';
import Headers14 from './components/headers/Headers14.vue';
import Headers15 from './components/headers/Headers15.vue';
import Headers16 from './components/headers/Headers16.vue';
import Headers17 from './components/headers/Headers17.vue';
import Headers18 from './components/headers/Headers18.vue';
import Headers19 from './components/headers/Headers19.vue';
import Headers20 from './components/headers/Headers20.vue';

export default {
  name: 'HeaderSelect',
  components: {
    Headers01,
    Headers02,
    Headers03,
    Headers04,
    Headers05,
    Headers06,
    Headers07,
    Headers08,
    Headers09,
    Headers10,
    Headers11,
    Headers12,
    Headers13,
    Headers14,
    Headers15,
    Headers16,
    Headers17,
    Headers18,
    Headers19,
    Headers20
  },
  data() {
    return {
      pendingMarkup: null
    }
  },
  watch: {
    pendingMarkup: function (markup) {
      this.pendingMarkup = markup;
      this.$emit('newHeaderMarkup', markup);
    }
  },
  methods: {
    reportSelection(event) {
      let sibling = event.target;
      let closestHeader = sibling.nextSibling;
      closestHeader.classList.add('selected');
      this.pendingMarkup = closestHeader.outerHTML;
    }
  }
};
</script>

<style lang="scss" scoped>
.header-select-stage {
  header .selected {
    border: 2px solid green;
  }
}
</style>